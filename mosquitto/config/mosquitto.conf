# Plain MQTT listener (optional,  keep if you need local/insecure access, otherwise comment out or remove)
# listener 1883

# Secure MQTT (MQTTS) listener on 8883
listener 8883

# === Certificate settings for Let's Encrypt wildcard ===
certfile   /mosquitto/config/fullchain.pem
keyfile    /mosquitto/config/privkey.pem

# Strongly recommended (modern & secure), but incompatible with Tasmota
# tls_version tlsv1.3

# Explicitly allow TLS 1.2 + 1.3
tls_version tlsv1.2

# Common settings
require_certificate false          # set to true only if you want client certificate authentication
allow_anonymous true             # or false + use password_file / acl_file
# password_file /mosquitto/config/passwordfile.txt   # if using username/password auth

# Optional  (useful during initial setup / debugging)
log_type all
log_dest file /mosquitto/log/mosquitto.log
log_dest stdout
